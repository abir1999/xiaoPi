(function(t){function e(e){for(var n,r,a=e[0],c=e[1],u=e[2],d=0,p=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],n=!0,a=1;a<s.length;a++){var c=s[a];0!==i[c]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=s[0]))}return t}var n={},i={app:0},o=[];function r(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=n,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(s,n,function(e){return t[e]}.bind(null,n));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";s("85ec")},"56d7":function(t,e,s){"use strict";s.r(e);s("d3b7"),s("96cf");var n=s("1da1"),i=(s("e260"),s("e6cf"),s("cca6"),s("a79d"),s("2b0e")),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("Menu")],1)},r=[],a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Login"),s("div",{staticClass:"top-left pure-menu pure-menu-horizontal"},[s("ul",{staticClass:"pure-menu-list"},[s("li",{staticClass:"pure-menu-item pure-menu-has-children pure-menu-allow-hover"},[t._m(0),s("ul",{staticClass:"pure-menu-children"},[s("li",{staticClass:"pure-menu-item item"},[s("router-link",{staticClass:"pure-menu-link",attrs:{to:"/"}},[s("img",{staticClass:"text-icon",attrs:{src:"/img/developer_board-black-18dp.svg"}}),t._v(" Dashboard ")])],1),s("li",{staticClass:"pure-menu-item item"},[s("router-link",{staticClass:"pure-menu-link",attrs:{to:"/network"}},[s("img",{staticClass:"text-icon",attrs:{src:"/img/wifi-black-18dp.svg"}}),t._v(" Network ")])],1),s("li",{staticClass:"pure-menu-item item"},[s("router-link",{staticClass:"pure-menu-link item",attrs:{to:"/users"}},[s("img",{staticClass:"text-icon",attrs:{src:"/img/account_circle-black-18dp.svg"}}),t._v(" Users ")])],1)])])])]),s("div",{staticClass:"center"},[s("router-view")],1)],1)},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"pure-menu-link title",attrs:{href:"#"}},[s("img",{attrs:{width:"32",src:"/img/apps-black-18dp.svg"}})])}],u=s("8c4f"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isHidden?t._e():s("div",{staticClass:"modal-window"},[s("div",[s("form",{staticClass:"pure-form pure-form-aligned"},[s("legend",[t._v("Sign In")]),s("fieldset",[s("div",{staticClass:"pure-control-group"},[s("label",{attrs:{for:"aligned-name"}},[t._v("Username")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"pure-input-1-2",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),s("div",{staticClass:"pure-control-group"},[s("label",{attrs:{for:"aligned-password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"pure-input-1-2",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("p",{staticStyle:{color:"red"}},[t._v(t._s(t.loginMsg))]),s("div",{staticClass:"pure-controls"},[s("label",{staticClass:"pure-checkbox",attrs:{for:"aligned-cb"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkbox,expression:"checkbox"}],attrs:{type:"checkbox",id:"aligned-cb"},domProps:{checked:Array.isArray(t.checkbox)?t._i(t.checkbox,null)>-1:t.checkbox},on:{change:function(e){var s=t.checkbox,n=e.target,i=!!n.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);n.checked?r<0&&(t.checkbox=s.concat([o])):r>-1&&(t.checkbox=s.slice(0,r).concat(s.slice(r+1)))}else t.checkbox=i}}}),t._v(" Remember me")]),s("button",{staticClass:"pure-button pure-button-primary",attrs:{type:"button"},on:{click:function(e){return t.signIn()}}},[t._v("Sign In")])])])])])])},d=[],p={name:"Login",props:{},created:function(){void 0==sessionStorage.getItem("xiaoPiToken")&&void 0==localStorage.getItem("xiaoPiToken")||(this.isHidden=!0)},data:function(){return{username:"",password:"",checkbox:!1,isHidden:!1,loginMsg:""}},methods:{signIn:function(){var t=this;this.$http.post("/api/v1/account/login",{username:this.username,password:this.password}).then((function(e){200==e.status&&(t.isHidden=!0,1==t.checkbox?localStorage.setItem("xiaoPiToken",e.data):sessionStorage.setItem("xiaoPiToken",e.data))})).catch((function(e){console.log(e),e.response&&(console.log(e.response),401==e.response.status&&(t.loginMsg="Invalid username or password"))})).then((function(){}))},checkLogin:function(){}}},m=p,f=s("2877"),v=Object(f["a"])(m,l,d,!1,null,null,null),h=v.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("Notice",{ref:"notice"}),t.isLoading?s("div",{staticClass:"modal-window"},[s("div",{attrs:{id:"loader"}})]):t._e(),s("table",{staticClass:"pure-table"},[t._m(0),s("tbody",t._l(t.hotspots,(function(e){return s("tr",{key:e.ssid,class:[e.status],on:{click:function(s){return t.onClickHotspot(e.ssid,e.security)}}},[s("td",[t._v(" "+t._s(e.ssid)+" ")]),s("td",[t._v(" "+t._s(e.security)+" ")]),s("td",[s("div",{class:[e.strength],staticStyle:{"text-align":"center","margin-bottom":"-12px"}},[t._m(1,!0)])])])})),0)]),t.isHidden?t._e():s("div",{staticClass:"modal-window"},[s("div",[s("form",{staticClass:"pure-form pure-form-aligned"},[s("fieldset",[s("legend",[t._v("Connect to Wi-Fi")]),s("div",{staticClass:"pure-control-group"},[s("label",{attrs:{for:"ssid"}},[t._v("SSID")]),s("input",{attrs:{type:"text",id:"ssid",name:"ssid",placeholder:t.ssid,disabled:""}})]),s("div",{staticClass:"pure-control-group"},[s("label",{attrs:{for:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",id:"password",name:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",{staticClass:"pure-control-group"},[s("label",{attrs:{for:"security"}},[t._v("Security")]),s("input",{attrs:{type:"text",id:"security",name:"security",placeholder:t.security,disabled:""}})]),s("div",{staticClass:"pure-controls"},[s("button",{staticClass:"pure-button pure-button-primary",attrs:{type:"button"},on:{click:function(e){return t.onClickSubmit()}}},[t._v("Submit")]),s("button",{staticClass:"pure-button pure-button-primary",staticStyle:{"margin-left":"20px"},on:{click:function(e){t.isHidden=!0}}},[t._v("Cancel")])])])])])])],1)},b=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("SSID")]),s("th",[t._v("Security")]),s("th",[t._v("Strength")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wv4 wave"},[s("div",{staticClass:"wv3 wave"},[s("div",{staticClass:"wv2 wave"},[s("div",{staticClass:"wv1 wave"})])])])}],w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.isHidden?t._e():s("div",{staticClass:"modal-window"},[s("div",{staticStyle:{"text-align":"center","border-radius":"25px"}},[s("h3",[s("img",{staticClass:"text-icon",attrs:{src:"/img/check_box-black-18dp.svg"}}),t._v(t._s(t.msg))])])])])},_=[],k={name:"Notice",props:{},data:function(){return{msg:"",isHidden:!0}},methods:{showMsg:function(t){var e=this;this.msg=t,this.isHidden=!1,setTimeout((function(){e.isHidden=!0}),3e3)}}},y=k,C=Object(f["a"])(y,w,_,!1,null,null,null),x=C.exports,S={name:"Network",components:{Notice:x},props:{},data:function(){return{isHidden:!0,isLoading:!1,ssid:"",security:"",password:"",hotspots:[]}},created:function(){var t=this;this.isLoading=!0,this.$http.get("/api/v1/network/hotspot",{}).then((function(e){t.hotspots=e.data;for(var s=0;s<t.hotspots.length;s++)t.hotspots[s].strength="waveStrength"+t.hotspots[s].strength})).catch((function(t){console.log(t)})).then((function(){t.isLoading=!1}))},methods:{onClickHotspot:function(t,e){this.isHidden=!1,this.ssid=t,this.security=e},onClickSubmit:function(){var t=this;this.isHidden=!0,this.isLoading=!0,this.$http.post("/api/v1/network/wireless/connection",{ssid:this.ssid,psk:this.password,security:this.security}).then((function(e){200==e.status&&t.$refs.notice.showMsg("Apply successfully")})).catch((function(e){e.response&&t.$refs.notice.showMsg(e.response.data)})).then((function(){t.isLoading=!1}))}}},P=S,H=(s("dfa9"),Object(f["a"])(P,g,b,!1,null,null,null)),I=H.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"users"},[t.isHidden?t._e():s("div",{staticClass:"modal-window"},[s("div",{staticStyle:{"text-align":"center","border-radius":"25px"}},[s("h3",[s("img",{staticClass:"text-icon",attrs:{src:"/img/check_box-black-18dp.svg"}}),t._v(t._s(t.msg))])])]),s("form",{staticClass:"pure-form pure-form-aligned"},[s("fieldset",[t._m(0),s("div",{staticClass:"pure-control-group"},[s("label",{attrs:{for:"aligned-password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password1,expression:"password1"}],attrs:{type:"password",id:"password1",placeholder:"Password"},domProps:{value:t.password1},on:{input:function(e){e.target.composing||(t.password1=e.target.value)}}})]),s("div",{staticClass:"pure-control-group"},[s("label",{attrs:{for:"aligned-password"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password2,expression:"password2"}],attrs:{type:"password",id:"password2",placeholder:"Password again"},domProps:{value:t.password2},on:{input:function(e){e.target.composing||(t.password2=e.target.value)}}})]),s("div",{staticClass:"pure-controls"},[s("button",{staticClass:"pure-button pure-button-primary",attrs:{type:"button"},on:{click:function(e){return t.submit()}}},[t._v("Submit")])])])])])},j=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pure-control-group"},[s("label",{attrs:{for:"aligned-name"}},[t._v("Username")]),s("input",{attrs:{type:"text",disabled:"",id:"aligned-name",placeholder:"admin"}})])}],O={name:"Users",props:{},data:function(){return{password1:"",password2:"",isHidden:!0,msg:""}},created:function(){},methods:{submit:function(){var t=this;this.$http.put("/api/v1/account/admin",{password1:this.password1,password2:this.password2}).then((function(e){200==e.status&&(t.msg="Update successfully")})).catch((function(e){e.response&&(t.msg=e.response.data)})).then((function(){t.isHidden=!1,setTimeout((function(){t.isHidden=!0}),2e3)}))}}},T=O,A=Object(f["a"])(T,$,j,!1,null,null,null),L=A.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container"},[s("h4",{staticStyle:{"border-bottom":"1px solid gray"}},[t._v(" Device Information ")]),s("p",[s("span",{staticClass:"title"},[t._v("IP Address")]),t._v(": "+t._s(t.ipAddr)+" ")])]),s("div",{staticClass:"container"},[s("h4",{staticStyle:{"border-bottom":"1px solid gray"}},[t._v(" Logout ")]),s("button",{staticClass:"pure-button",on:{click:function(e){return t.onClickSetting("Logout",t.logout)}}},[s("img",{attrs:{src:"/img/login-black-18dp.svg"}})])]),s("div",{staticClass:"container"},[s("h4",{staticStyle:{"border-bottom":"1px solid gray"}},[t._v(" Reset to Default ")]),s("button",{staticClass:"pure-button",on:{click:function(e){return t.onClickSetting("Reset to default",t.resetToDefault)}}},[s("img",{attrs:{src:"/img/sync-black-18dp.svg"}})])]),t.isHidden?t._e():s("div",{staticClass:"modal-window"},[s("div",{staticStyle:{"text-align":"center"}},[s("h4",[t._v(" "+t._s(t.message)+". Are you sure? ")]),s("button",{staticClass:"pure-button pure-button-primary",on:{click:t.onClickYes}},[t._v("Yes")]),s("button",{staticClass:"pure-button pure-button-primary",staticStyle:{"margin-left":"20px"},on:{click:function(e){t.isHidden=!0}}},[t._v("No")])])])])},N=[],E={name:"Dashboard",props:{},data:function(){return{ipAddr:"",isHidden:!0,message:""}},created:function(){var t=this;this.ipAddr="192.168.11.1",this.$http.get("/api/v1/network/wireless/connection",{}).then((function(e){t.ipAddr=e.data.ipAddr,console.log(e.data)})).catch((function(t){console.log(t)})).then((function(){t.isLoading=!1}))},methods:{onClickSetting:function(t,e){this.isHidden=!1,this.message=t,this.action=e},onClickYes:function(){this.action(),this.isHidden=!0},resetToDefault:function(){this.$http.post("/api/v1/system/command/reset",{}).then((function(){location.reload()})).catch((function(){})).then((function(){}))},logout:function(){localStorage.removeItem("xiaoPiToken"),sessionStorage.removeItem("xiaoPiToken"),location.reload()}}},D=E,U=(s("5af9"),Object(f["a"])(D,M,N,!1,null,"64768535",null)),R=U.exports;i["a"].use(u["a"]);var Y=[{path:"/network",component:I},{path:"/users",component:L},{path:"/",component:R}],z=new u["a"]({routes:Y,mode:"history"}),J={components:{Login:h},name:"Menu",props:{},router:z,created:function(){}},q=J,F=(s("c1d8"),Object(f["a"])(q,a,c,!1,null,"40f8d332",null)),W=F.exports,B={name:"App",components:{Menu:W}},G=B,K=(s("034f"),Object(f["a"])(G,o,r,!1,null,null,null)),Q=K.exports,V=s("bc3a"),X=s.n(V);i["a"].config.productionTip=!1,i["a"].prototype.$http=X.a,X.a.interceptors.request.use(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s="",void 0!=sessionStorage.getItem("xiaoPiToken")&&(s=sessionStorage.getItem("xiaoPiToken")),void 0!=localStorage.getItem("xiaoPiToken")&&(s=localStorage.getItem("xiaoPiToken")),e.headers.Authorization=s,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){return Promise.reject(t)})),X.a.interceptors.response.use((function(t){return t}),(function(t){if(t.response)switch(t.response.status){case 401:localStorage.removeItem("xiaoPiToken"),sessionStorage.removeItem("xiaoPiToken");break}return Promise.reject(t)})),new i["a"]({render:function(t){return t(Q)}}).$mount("#app")},"5af9":function(t,e,s){"use strict";s("e2e4")},6228:function(t,e,s){},"85ec":function(t,e,s){},b986:function(t,e,s){},c1d8:function(t,e,s){"use strict";s("6228")},dfa9:function(t,e,s){"use strict";s("b986")},e2e4:function(t,e,s){}});
//# sourceMappingURL=app.ae14956c.js.map